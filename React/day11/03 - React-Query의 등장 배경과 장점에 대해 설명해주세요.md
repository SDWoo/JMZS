# React-Query의 등장 배경과 장점에 대해 설명해주세요.

<br />

> 목차

> [동우](#동우)

> [은지](#은지)

> [지연](#지연)

> [규란](규란)

<br />

### 동우

- 많은 상태 관리 라이브러리는 Client State의 관리에는 최고지만, Server State의 관리에는 적절하지 못했습니다. 특히, 서버와 통신해서 데이터를 가져오는 경우에 생길 수 있는 문제인 로딩, 에러 처리 등을 해결하지 못했다. 이를 해결하기 위해 React-Query가 등장했습니다. React Query는 선언적으로 프로그래밍 할 수 있어 코드가 복잡해지지 않으며, 캐싱 기능을 활용해 동일 API 요청 함수 호출은 한번만 실행해도 됩니다. 적절한 시점에 맞추어 업데이트할 수 있는 옵션들이 있고, 가장 중요한 클라이언트 전역 상태와 서버 상태를 분리할 수 있다는 장점이 있습니다.

<br />

### 은지

- 클라이언트 상태와 서버 상태 구분의 모호함을 없애고, 서버 상태를 효율적으로 관리하기 위해 등장했다.
- 장점으로는 특정 쿼리 데이터가 캐싱되어 데이터를 refetch할 때 캐싱된 데이터를 보여줄 수 있다는 점, 비동기 호출을 선언적으로 관리할 수 있다는 점, 동일 요청에 대해서는 한 번만 요청한다는 점, 비동기 요청에 대한 상태를 따로 직접 구현하지 않아도 된다는 점, 자동 데이터 캐싱을 통해 서버의 부담도 줄일 수 있습니다.

<br />

### 지연

- **등장 배경**
  - react 자체가 데이터를 패칭해오거나 업데이트 하는 옵션을 제공하지 않기 때문에 개발자 각각의 방식으로 http 통신을 구현
  - redux 같은 전역 상태관리 라이브러리는 클라이언트 상태 값에 대해서는 잘 동작하지만, **서버 상태에서는 유용하지 않음** ⇒ 명시적으로 fetching을 수행해야만 최신 데이터로 전환되며, 네트워크의 통신은 최소한으로 줄이는 게 좋은데, 복수의 컴포넌트에서 최신 데이터를 받아오기 위해 fetching을 여러 번 수행하는 낭비가 발생할 수 있다.
- **장점**
  - 서버에서 주기적으로 fetch하기에 데이터를 전역에서 사용하도록 만들어주고, Optimistic update 기능을 제공한다.
  - 캐싱을 효율적으로 관리해준다.
  - 같은 데이터에 대한 여러 번의 요청이 있을 시 중복을 제거한다.
  - 백그라운드에서 알아서 오래된 데이터를 업데이트해준다.
  - 데이터 업데이트 시, 최대한 빨리 반영한다.
  - redux, mobx를 사용할 때보다 서버 상태 관리에 용이하고 직관적인 API를 호출할 수 있다.
  - API 처리에 대해 각종 인터페이스와 옵션을 제공한다.
  - Devtool 제공으로 원활한 디버깅이 가능하다.

<br />

### 규란

- 대부분의 웹 프레임워크들이 데이터를 fetching 하거나 업데이트 하는 일반화된 방법을 제공하지 않습니다. 그래서 개발자들은 데이터를 가져오기 위한 방법들을 자체적으로 정의해서 사용하게 됩니다. 또한 대부분의 기존 상태 관리 라이브러리는 클라이언트 상태 작업에는 적합하지만 비동기 또는 서버 상태 작업에는 적합하지 않습니다. 이러한 배경에서 React Query가 등장하게 되었습니다.
- 가장 큰 장점은 비동기 과정을 선언적으로 관리할 수 있다는 점입니다. 또한 캐싱을 통해 불필요할 수 있는 API 통신을 줄일 수 있고, React Hook과 사용하는 구조가 비슷해 코드 작성이 용이합니다.

---

<br />

### 꼬리 질문 모음

- **꼬리 질문 1 : React-query의 단점에 대해 설명해주세요.**

  ⇒ 컴포넌트 내부에서 사용되기 때문에 컴포넌트 종속적인 코드가 될 수 있다.  
  ⇒ 프로젝트의 규모가 매우 작은 경우, 라이브러리의 컨텍스트를 유지하는 비용이 효율성보다 커질 수 있다.
