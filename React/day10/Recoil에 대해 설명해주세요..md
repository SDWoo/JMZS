# Recoil에 대해 설명해주세요.

<br />

> 목차

> [동우](#동우)

> [은지](#은지)

> [지연](#지연)

> [규란](규란)

<br />

### 동우

- 리액트를 위한 상태 관리 라이브러리이다. API, 의미 ,동작 들을 최대한 리액트스럽게 유지하며 이를 개선하려고 한다. hooks의 형태로 사용이 가능하다.
- Atom을 사용해 상태들을 관리하며 컴포넌트들이 만약 어떤 상태가 필요하다면 해당 Atom을 구독하고, Atom의 상태가 변경되면 구독하고 있는 컴포넌트들이 다시 렌더링되면서 변경된 Atom 상태를 공유한다.

<br />

### 은지

- React 친화적인 전역 상태 관리 라이브러리이며 Recoil을 사용하면 atoms에서 selectors를 거쳐 React 컴포넌트로 내려가는 data-flow graph를 만들 수 있습니다.
- Atom는 컴포넌트가 구독할 수 있는 상태의 단위이며 Selector는 atoms 상태값을 동기 또는 비동기 방식을 통해 변환해줍니다.

<br />

### 지연

- 리액트를 위한 상태관리 라이브러리
- 공유 상태 atoms에서 순수 함수 selector를 거쳐 리액트 컴포넌트로 내려가는 데이터 플로우 그래프를 만들 수 있다.

<br />

### 규란

- 2020년에 facebook에서 발표한 상태관리 라이브러리이며, context API 기반으로 구현되었고 함수형 컴포넌트에서만 사용 가능합니다. atoms, selectors라는 개념이 등장하는데,
- Recoil에서 상태의 단위를 의미함 | 업데이트, 구독이 가능

<br />

### 꼬리 질문 모음

- **꼬리질문 1. selector와 selectorFamily의 내부적인 차이에 대해 설명해주세요.**

  - 캐싱에 차이가 있습니다.
  - selector와 selectorFamily 모두 캐시를 사용합니다.
  - 캐시키가 동일하다면 get 메서드를 다시 실행하지 않고 캐시에 있는 값을 반환합니다.
    - selector의 경우 key 프로퍼티, get 메서드 내부의 의존성 종류와 값
      selectorFamily의 경우 실행시 전달된 파라미터까지 비교합니다.

## 하지만 selectorFamily는 파라미터 동일성을 판별하기 위해 참조 동등성이 아닌 값 동등성을 사용한다는 특징이 있습니다.

- selector는 atom 혹은 다른 Selector 상태를 기반으로 파생 데이터를 계산하는데 사용된다.
  - 최소한의 상태 집합만 atoms에 저장하고 다른 모든 파생되는 데이터는 selectors에 명시한 함수를 통해 효율적으로 계산함으로써 쓸모없는 상태의 보존을 방지한다.
- selectorFamily는 파라미터를 받아서 selector 함수로 매핑한다.
  - 동일한 파라미터를 동일한 selector에서 다시 사용하길 원하기 때문에 참조 동등성 대신 값 동등성을 사용한다.
- 상태로 저장해야하는 값이라면 selector를, 굳이 상태에 저장할 필요가 없는 값이라면 selectorFamily를 사용하면 좋을 듯 하다.

- **꼬리질문 2.동시성 모드로 비동기 요청하는 방법에 대해 설명해주세요.**
  - 반복문으로 루프를 돌리는 방법
  - Recoil에서 제공하는 waitForAll, waitForNone과 같은 동시성을 지원하는 함수를 사용합니다.
  - waitForAll 함수는 selector 내부에서 다수의 요청이 동시에 발생했을 때 병렬로 요청을 처리해줍니다.
  - waitForNone 함수도 waitForAll 함수와 마찬가지로 동시 요청에 대해 병렬 처리를 해주지만 결과값을 Loadable 객체로 받아 핸들링이 가능하다는 차이점이 있습니다.
